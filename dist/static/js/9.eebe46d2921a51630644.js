webpackJsonp([9],{"/TWG":function(e,t,n){"use strict";var r=n("Xxa5"),a=n.n(r),s=n("exGp"),o=n.n(s),u=n("//Fk"),i=n.n(u),c=n("M0ix"),l=n("2uFj"),d=this;t.a=function(e,t){return new i.a((n=o()(a.a.mark(function n(r,s){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.a)({method:"POST",url:l.a.login,data:{username:e,password:t,token:localStorage.getItem("token")}});case 2:return(o=n.sent).token&&localStorage.setItem("token",o.token),n.abrupt("return",r(o));case 5:case"end":return n.stop()}},n,d)})),function(e,t){return n.apply(this,arguments)}));var n}},Zqun:function(e,t){},o5vO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),a=n.n(r),s=n("exGp"),o=n.n(s),u=n("n/Yi"),i=n("qNVu"),c=n("utKc"),l=(n("2uFj"),n("/TWG")),d={name:"Auth",components:{uiInput:i.a,uiButton:c.a},data:function(){return{loading:!1,username:"",password:"",error:!1}},created:function(){var e=this;u.a.$on("api-loading",function(){return e.loading=!0}),u.a.$on("api-loaded",function(){return e.loading=!1})},methods:{handleSubmit:function(){var e=this;return o()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.username.length&&e.password.length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(l.a)(e.username,e.password);case 4:(n=t.sent).auth?e.$router.replace({name:"Admin"}):(e.username="",e.password="",e.error=!0,console.log(n.message));case 6:case"end":return t.stop()}},t,e)}))()}},watch:{username:function(e){e.length&&(this.error=!1)},password:function(e){e.length&&(this.error=!1)}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"auth"}},[r("router-link",{attrs:{to:{name:"List"}}},[r("img",{staticClass:"logo",attrs:{src:n("zxL1")}})]),e._v(" "),r("ui-input",{staticClass:"field",attrs:{placeholder:"Имя",error:e.error},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),r("ui-input",{staticClass:"field",attrs:{type:"password",placeholder:"Пароль",error:e.error},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("ui-button",{staticClass:"submit",attrs:{disabled:e.loading},nativeOn:{click:function(t){e.handleSubmit(t)}}},[e._v("\n\t\tВойти\n\t")])],1)},staticRenderFns:[]};var f=n("VU/8")(d,p,!1,function(e){n("Zqun")},"data-v-67cf8b4b",null);t.default=f.exports}});
//# sourceMappingURL=9.eebe46d2921a51630644.js.map