webpackJsonp([8],{VUwJ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("gRE1"),r=e.n(a),n=e("Dd8w"),i=e.n(n),d=e("NYxO"),u=e("n/Yi"),o=e("Xxa5"),c=e.n(o),l=e("fZjL"),v=e.n(l),_=e("woOf"),p=e.n(_),f=e("exGp"),h=e.n(f),m=e("U8jZ"),C=e("qNVu"),x=e("utKc");var b={1:"Новый",2:"В обработке",3:"Доставка",4:"Доставлен"},w=e("2uFj"),O=e("M0ix"),g={name:"Order",components:{uiDropdown:m.a,uiInput:C.a,uiButton:x.a},props:{id:{type:Number}},data:function(){return{statuses:b,expanded:!1}},created:function(){var t=this;u.a.$on("order-details-expand",function(s){var e=s.id;t.id!==e&&(t.expanded=!1)})},methods:{expand:function(){u.a.$emit("order-details-expand",{id:this.id}),this.expanded=!0},save:function(){var t=this;return h()(c.a.mark(function s(){var e;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=p()({},t.order),status=v()(t.statuses).find(function(s){return t.statuses[s]===e.statusName}),e.status=+status,t.order.status=+status,delete e.statusName,s.next=7,Object(O.a)({method:"POST",url:w.b+"/api/orders/"+e.id,data:e});case 7:s.sent;case 8:case"end":return s.stop()}},s,t)}))()}},computed:i()({},Object(d.b)({orders:function(t){return t.orders},productsAll:function(t){return t.products}}),{order:function(){var t=this,s=this.orders.find(function(s){return s.id===t.id});return s.statusName=this.statuses[s.status],s},products:function(){var t=this;return this.order.products.map(function(s){var e=p()({},t.productsAll.find(function(t){return t.id===s.id}));return e.count=s.count,e.size=s.size,e})},statusList:function(){return r()(this.statuses)}})},N={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"order",on:{click:t.expand}},[e("div",{staticClass:"grid"},[e("span",{staticClass:"order-id"},[t._v(t._s(t.order.orderID))]),t._v(" "),e("span",{staticClass:"status"},[t._v(t._s(t.statuses[t.order.status]))]),t._v(" "),e("span",{staticClass:"price"},[t._v(t._s("999 999")+" ₽")]),t._v(" "),e("span",[t._v(t._s(t.order.username))]),t._v(" "),e("span",[t._v(t._s(t.order.email))]),t._v(" "),e("span",{staticClass:"phone"},[t._v(t._s(t.order.phone))]),t._v(" "),e("span",{staticClass:"address"},[t._v(t._s(t.order.address))])]),t._v(" "),e("div",{staticClass:"details",class:{visible:t.expanded}},[e("div",{staticClass:"inner"},[e("div",{staticClass:"products"},[e("ul",{staticClass:"product-list"},[t._m(0),t._v(" "),t._l(t.products,function(s,a){return e("li",{key:a,staticClass:"product"},[e("span",{staticClass:"image-wrap"},[e("img",{attrs:{src:s.image.sidebar}})]),t._v(" "),e("h4",[t._v(t._s(s.name)+" "+t._s((s.size||"").toUpperCase()))]),t._v(" "),e("span",{staticClass:"count"},[t._v("×"+t._s(s.count))]),t._v(" "),e("span",{staticClass:"subtotal"},[t._v(t._s("999 999")+" ₽")])])})],2),t._v(" "),e("div",{staticClass:"total"},[t._v(t._s("999 999")+" ₽")])]),t._v(" "),e("ui-dropdown",{staticClass:"field dropdown",attrs:{options:t.statusList,placeholder:"Статус заказа"},model:{value:t.order.statusName,callback:function(s){t.$set(t.order,"statusName",s)},expression:"order.statusName"}}),t._v(" "),e("ui-input",{staticClass:"field",attrs:{placeholder:"Адрес"},model:{value:t.order.address,callback:function(s){t.$set(t.order,"address",s)},expression:"order.address"}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"head"},[s("span",{staticClass:"name"},[this._v("Название")]),this._v(" "),s("span",{staticClass:"count"},[this._v("Количество")]),this._v(" "),s("span",{staticClass:"subtotal"},[this._v("Стоимость")])])}]};var $={name:"OrderList",components:{Order:e("VU/8")(g,N,!1,function(t){e("e0QJ")},"data-v-639c1df8",null).exports},data:function(){return{statuses:b,expanded:null}},methods:{openDetails:function(t){this.expanded=t}},computed:i()({},Object(d.b)({orders:function(t){return t.orders}}),{statusList:function(){return r()(this.statuses)}})},j={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.orders.length?e("div",{attrs:{id:"order-list"}},[e("h2",[t._v("Заказы")]),t._v(" "),t._m(0),t._v(" "),e("transition-group",{staticClass:"list",attrs:{tag:"ul",name:"list"}},t._l(t.orders,function(t){return e("order",{key:t.id,staticClass:"order",attrs:{id:t.id}})}))],1):t._e()},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"head grid"},[e("li",{staticClass:"order-id"},[t._v("#id")]),t._v(" "),e("li",{staticClass:"status"},[t._v("Статус")]),t._v(" "),e("li",{staticClass:"price"},[t._v("Стоимость")]),t._v(" "),e("li",[t._v("Имя")]),t._v(" "),e("li",[t._v("E-mail")]),t._v(" "),e("li",{staticClass:"phone"},[t._v("Телефон")]),t._v(" "),e("li",{staticClass:"address"},[t._v("Адрес")])])}]};var k=e("VU/8")($,j,!1,function(t){e("ZyDu")},"data-v-0dadfbf8",null);s.default=k.exports},ZyDu:function(t,s){},e0QJ:function(t,s){}});
//# sourceMappingURL=8.4f45b3c425e87b70c130.js.map