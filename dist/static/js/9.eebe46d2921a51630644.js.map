{"version":3,"sources":["webpack:///./src/utils/login.js","webpack:///src/components/admin/Auth.vue","webpack:///./src/components/admin/Auth.vue?3ec6","webpack:///./src/components/admin/Auth.vue"],"names":["__webpack_exports__","username","password","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default","a","_ref","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","mark","_callee","resolve","reject","res","wrap","_context","prev","next","Object","__WEBPACK_IMPORTED_MODULE_3__utils_makeRequest__","method","url","__WEBPACK_IMPORTED_MODULE_4__config_index__","login","data","token","localStorage","getItem","sent","setItem","abrupt","stop","_this","_x","_x2","apply","this","arguments","Auth","uiInput","Input","uiButton","Button","_this2","length","message","admin_Auth","render","_vm","_h","$createElement","_c","_self","attrs","id","to","name","staticClass","src","__webpack_require__","_v","placeholder","error","model","value","callback","$$v","expression","type","disabled","loading","nativeOn","click","$event","handleSubmit","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"wJAsBAA,EAAA,EAlBY,SAACC,EAAUC,GAAX,OAAwB,IAAAC,EAAAC,GAAAC,EAAAC,IAAAC,EAAAH,EAAAI,KAAY,SAAAC,EAAOC,EAASC,GAAhB,IAAAC,EAAA,OAAAL,EAAAH,EAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAE/BC,OAAAC,EAAA,EAAAD,EACfE,OAAQ,OACRC,IAAKC,EAAA,EAAIC,MACTC,MACCtB,WACAC,WACAsB,MAAOC,aAAaC,QAAQ,YARiB,cAE3Cd,EAF2CE,EAAAa,MAYvCH,OAAOC,aAAaG,QAAQ,QAAShB,EAAIY,OAZFV,EAAAe,OAAA,SAcxCnB,EAAQE,IAdgC,wBAAAE,EAAAgB,SAAArB,EAAAsB,MAAZ,SAAAC,EAAAC,GAAA,OAAA5B,EAAA6B,MAAAC,KAAAC,cAAA,IAAA/B,sNCuCpCgC,QAEA,mBAEAC,QAAAC,EAAA,EAEAC,SAAAC,EAAA,mCAGA,WACA,YACA,UAEA,uBAEA,IAAAV,EAAAI,wDACA,sDACA,sCAIA,IAAAO,EAAAP,6IAEAQ,OAAA,0FAEAzC,yDAIA,sBAEA,cACA,YAEA,gBACA0C,4GAMA,gDAIA,MCrFAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAZ,KAAaa,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,UAAaH,EAAA,eAAoBE,OAAOE,IAAMC,KAAA,WAAiBL,EAAA,OAAYM,YAAA,OAAAJ,OAA0BK,IAAAC,EAAA,aAA+CX,EAAAY,GAAA,KAAAT,EAAA,YAA+BM,YAAA,QAAAJ,OAA2BQ,YAAA,MAAAC,MAAAd,EAAAc,OAAsCC,OAAQC,MAAAhB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAA9C,SAAAgE,GAAiBC,WAAA,cAAwBnB,EAAAY,GAAA,KAAAT,EAAA,YAA6BM,YAAA,QAAAJ,OAA2Be,KAAA,WAAAP,YAAA,SAAAC,MAAAd,EAAAc,OAA2DC,OAAQC,MAAAhB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAA7C,SAAA+D,GAAiBC,WAAA,cAAwBnB,EAAAY,GAAA,KAAAT,EAAA,aAA8BM,YAAA,SAAAJ,OAA4BgB,SAAArB,EAAAsB,SAAuBC,UAAWC,MAAA,SAAAC,GAAyBzB,EAAA0B,aAAAD,OAA2BzB,EAAAY,GAAA,0BAErxBe,oBCCjB,IAcAC,EAdAjB,EAAA,OAcAkB,CACAvC,EACAQ,GATA,EAVA,SAAAgC,GACAnB,EAAA,SAaA,kBAEA,MAUA1D,EAAA,QAAA2E,EAAA","file":"static/js/9.eebe46d2921a51630644.js","sourcesContent":["import makeRequest from '@/utils/makeRequest'\nimport { API } from '@/config/index'\n\n\nlet login = (username, password) => new Promise(async (resolve, reject) => {\n\n\tlet res = await makeRequest({\n\t\tmethod: 'POST',\n\t\turl: API.login,\n\t\tdata: {\n\t\t\tusername,\n\t\t\tpassword,\n\t\t\ttoken: localStorage.getItem('token')\n\t\t},\n\t})\n\n\tif (res.token) localStorage.setItem('token', res.token)\n\n\treturn resolve(res)\n})\n\n\nexport default login\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/login.js","<template>\n<div id=\"auth\">\n\n\t<router-link :to=\"{ name: 'List' }\">\n\t\t<img src=\"../../assets/images/logo.svg\" class=\"logo\">\n\t</router-link>\n\n\t<ui-input\n\t\tclass=\"field\"\n\t\tv-model=\"username\"\n\t\tplaceholder=\"Имя\"\n\t\t:error=\"error\"\n\t/>\n\n\t<ui-input\n\t\tclass=\"field\"\n\t\ttype=\"password\"\n\t\tv-model=\"password\"\n\t\tplaceholder=\"Пароль\"\n\t\t:error=\"error\"\n\t/>\n\n\t<ui-button\n\t\tclass=\"submit\"\n\t\t@click.native=\"handleSubmit\"\n\t\t:disabled=\"loading\"\n\t>\n\t\tВойти\n\t</ui-button>\n\n</div>\n</template>\n\n\n<script>\nimport Events from '@/events'\nimport uiInput from '@/components/ui/Input'\nimport uiButton from '@/components/ui/Button'\n\nimport { API } from '@/config/index'\n\nimport login from '@/utils/login'\n\nexport default {\n\tname: 'Auth',\n\tcomponents: {\n\t\tuiInput,\n\t\tuiButton,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\terror: false,\n\t\t}\n\t},\n\tcreated() {\n\t\tEvents.$on('api-loading', () => this.loading = true)\n\t\tEvents.$on('api-loaded', () => this.loading = false)\n\t},\n\tmethods: {\n\t\tasync handleSubmit() {\n\n\t\t\tif (!this.username.length || !this.password.length) return\n\n\t\t\tlet res = await login(this.username, this.password)\n\t\t\t\n\t\t\tif (res.auth) {\n\n\t\t\t\tthis.$router.replace({ name: 'Admin' })\n\n\t\t\t} else {\n\t\t\t\tthis.username = ''\n\t\t\t\tthis.password = ''\n\t\t\t\tthis.error = true\n\n\t\t\t\tconsole.log(res.message)\n\t\t\t}\t\n\t\t},\n\t},\n\twatch: {\n\t\tusername(to) {\n\t\t\tto.length && (this.error = false)\n\t\t},\n\n\t\tpassword(to) {\n\t\t\tto.length && (this.error = false)\n\t\t},\n\t},\n}\n</script>\n\n\n<style lang=\"less\" scoped>\n\n#auth {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-direction: column;\n\theight: 100vh;\n\n\t.logo {\n\t\twidth: 50px;\n\t\tmargin-bottom: 50px;\n\t}\n\n\t.field {\n\t\tmax-width: 260px;\n\t\tmargin-top: 0;\n\t\tmargin-bottom: 50px;\n\t}\n\n\t.submit {\n\t\twidth: 130px;\n\t\tmin-width: auto;\n\t\tmargin-top: 10px;\n\t}\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/Auth.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"auth\"}},[_c('router-link',{attrs:{\"to\":{ name: 'List' }}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../assets/images/logo.svg\")}})]),_vm._v(\" \"),_c('ui-input',{staticClass:\"field\",attrs:{\"placeholder\":\"Имя\",\"error\":_vm.error},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" \"),_c('ui-input',{staticClass:\"field\",attrs:{\"type\":\"password\",\"placeholder\":\"Пароль\",\"error\":_vm.error},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('ui-button',{staticClass:\"submit\",attrs:{\"disabled\":_vm.loading},nativeOn:{\"click\":function($event){_vm.handleSubmit($event)}}},[_vm._v(\"\\n\\t\\tВойти\\n\\t\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67cf8b4b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/Auth.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-67cf8b4b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Auth.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Auth.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Auth.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-67cf8b4b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Auth.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-67cf8b4b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/Auth.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}